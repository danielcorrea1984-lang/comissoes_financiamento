{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danielol\\\\Desktop\\\\AJ7\\\\comissoes_financiamento\\\\frontend\\\\src\\\\pages\\\\ForgotPasswordWindow.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/pages/ForgotPasswordWindow.jsx\nimport React from 'react';\nimport api from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ForgotPasswordWindow() {\n  _s();\n  const [email, setEmail] = React.useState('');\n  const [loading, setLoading] = React.useState(false);\n  const [msg, setMsg] = React.useState('');\n  const [err, setErr] = React.useState('');\n\n  // Garantir fundo claro e limpar qualquer classe/estilo herdado\n  React.useEffect(() => {\n    const prevBg = document.body.style.background;\n    const prevOverflow = document.body.style.overflow;\n    document.body.style.background = '#ffffff';\n    document.body.style.overflow = 'auto';\n    // remove possíveis backdrops de modais\n    document.querySelectorAll('.modal-backdrop').forEach(n => n.remove());\n    document.body.classList.remove('modal-open');\n\n    // autofocus\n    const t = setTimeout(() => {\n      const el = document.getElementById('fpw_email');\n      if (el) el.focus();\n    }, 50);\n    return () => {\n      document.body.style.background = prevBg;\n      document.body.style.overflow = prevOverflow;\n      clearTimeout(t);\n    };\n  }, []);\n  async function submit(e) {\n    e.preventDefault();\n    setMsg('');\n    setErr('');\n    setLoading(true);\n    try {\n      const {\n        data\n      } = await api.post('/auth/forgot', {\n        email\n      });\n      setMsg((data === null || data === void 0 ? void 0 : data.msg) || 'Se o e-mail existir no sistema, enviaremos as instruções para redefinição.');\n\n      // Em modo debug a API devolve dev_url/dev_token — mostramos para facilitar testes\n      if (data !== null && data !== void 0 && data.dev_url) {\n        setMsg(m => m + `\\nLink de teste: ${data.dev_url}`);\n      }\n    } catch (ex) {\n      // Por segurança, manter mensagem genérica\n      setMsg('Se o e-mail existir no sistema, enviaremos as instruções para redefinição.');\n    } finally {\n      setLoading(false);\n    }\n  }\n  function closeWin() {\n    window.close();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container py-3\",\n    style: {\n      maxWidth: 520\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex align-items-center mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"m-0\",\n        children: \"Esqueci minha senha\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ms-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-secondary btn-sm\",\n          onClick: closeWin,\n          children: \"Fechar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      className: \"mt-2 mb-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"fpw_email\",\n          className: \"form-label\",\n          children: \"E-mail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"fpw_email\",\n          type: \"email\",\n          className: \"form-control\",\n          placeholder: \"seuemail@dominio.com\",\n          value: email,\n          onChange: e => setEmail(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger py-2\",\n        children: err\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), msg && /*#__PURE__*/_jsxDEV(\"pre\", {\n        className: \"alert alert-info py-2\",\n        style: {\n          whiteSpace: 'pre-wrap'\n        },\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        disabled: loading,\n        children: loading ? 'Enviando...' : 'Enviar instruções'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(ForgotPasswordWindow, \"tf/jtmZ8xun9ndcEsGfBlVnZRhM=\");\n_c = ForgotPasswordWindow;\nvar _c;\n$RefreshReg$(_c, \"ForgotPasswordWindow\");","map":{"version":3,"names":["React","api","jsxDEV","_jsxDEV","ForgotPasswordWindow","_s","email","setEmail","useState","loading","setLoading","msg","setMsg","err","setErr","useEffect","prevBg","document","body","style","background","prevOverflow","overflow","querySelectorAll","forEach","n","remove","classList","t","setTimeout","el","getElementById","focus","clearTimeout","submit","e","preventDefault","data","post","dev_url","m","ex","closeWin","window","close","className","maxWidth","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","htmlFor","id","type","placeholder","value","onChange","target","required","whiteSpace","disabled","_c","$RefreshReg$"],"sources":["C:/Users/danielol/Desktop/AJ7/comissoes_financiamento/frontend/src/pages/ForgotPasswordWindow.jsx"],"sourcesContent":["// frontend/src/pages/ForgotPasswordWindow.jsx\r\nimport React from 'react';\r\nimport api from '../api';\r\n\r\nexport default function ForgotPasswordWindow(){\r\n  const [email, setEmail] = React.useState('');\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [msg, setMsg] = React.useState('');\r\n  const [err, setErr] = React.useState('');\r\n\r\n  // Garantir fundo claro e limpar qualquer classe/estilo herdado\r\n  React.useEffect(() => {\r\n    const prevBg = document.body.style.background;\r\n    const prevOverflow = document.body.style.overflow;\r\n    document.body.style.background = '#ffffff';\r\n    document.body.style.overflow = 'auto';\r\n    // remove possíveis backdrops de modais\r\n    document.querySelectorAll('.modal-backdrop').forEach(n => n.remove());\r\n    document.body.classList.remove('modal-open');\r\n\r\n    // autofocus\r\n    const t = setTimeout(() => {\r\n      const el = document.getElementById('fpw_email');\r\n      if(el) el.focus();\r\n    }, 50);\r\n\r\n    return () => {\r\n      document.body.style.background = prevBg;\r\n      document.body.style.overflow = prevOverflow;\r\n      clearTimeout(t);\r\n    };\r\n  }, []);\r\n\r\n  async function submit(e){\r\n    e.preventDefault();\r\n    setMsg(''); setErr('');\r\n    setLoading(true);\r\n    try{\r\n      const { data } = await api.post('/auth/forgot', { email });\r\n      setMsg(\r\n        data?.msg ||\r\n        'Se o e-mail existir no sistema, enviaremos as instruções para redefinição.'\r\n      );\r\n\r\n      // Em modo debug a API devolve dev_url/dev_token — mostramos para facilitar testes\r\n      if (data?.dev_url) {\r\n        setMsg(m => m + `\\nLink de teste: ${data.dev_url}`);\r\n      }\r\n    }catch(ex){\r\n      // Por segurança, manter mensagem genérica\r\n      setMsg('Se o e-mail existir no sistema, enviaremos as instruções para redefinição.');\r\n    }finally{\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  function closeWin(){\r\n    window.close();\r\n  }\r\n\r\n  return (\r\n    <div className=\"container py-3\" style={{ maxWidth: 520 }}>\r\n      <div className=\"d-flex align-items-center mb-2\">\r\n        <h5 className=\"m-0\">Esqueci minha senha</h5>\r\n        <div className=\"ms-auto\">\r\n          <button className=\"btn btn-outline-secondary btn-sm\" onClick={closeWin}>Fechar</button>\r\n        </div>\r\n      </div>\r\n      <hr className=\"mt-2 mb-3\" />\r\n\r\n      <form onSubmit={submit}>\r\n        <div className=\"mb-2\">\r\n          <label htmlFor=\"fpw_email\" className=\"form-label\">E-mail</label>\r\n          <input\r\n            id=\"fpw_email\"\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            placeholder=\"seuemail@dominio.com\"\r\n            value={email}\r\n            onChange={e=>setEmail(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        {err && <div className=\"alert alert-danger py-2\">{err}</div>}\r\n        {msg && <pre className=\"alert alert-info py-2\" style={{ whiteSpace:'pre-wrap' }}>{msg}</pre>}\r\n        <button className=\"btn btn-primary\" disabled={loading}>\r\n          {loading ? 'Enviando...' : 'Enviar instruções'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,GAAG,MAAM,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzB,eAAe,SAASC,oBAAoBA,CAAA,EAAE;EAAAC,EAAA;EAC5C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,KAAK,CAACQ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,KAAK,CAACQ,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACG,GAAG,EAAEC,MAAM,CAAC,GAAGZ,KAAK,CAACQ,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACK,GAAG,EAAEC,MAAM,CAAC,GAAGd,KAAK,CAACQ,QAAQ,CAAC,EAAE,CAAC;;EAExC;EACAR,KAAK,CAACe,SAAS,CAAC,MAAM;IACpB,MAAMC,MAAM,GAAGC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,UAAU;IAC7C,MAAMC,YAAY,GAAGJ,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACG,QAAQ;IACjDL,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,UAAU,GAAG,SAAS;IAC1CH,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACG,QAAQ,GAAG,MAAM;IACrC;IACAL,QAAQ,CAACM,gBAAgB,CAAC,iBAAiB,CAAC,CAACC,OAAO,CAACC,CAAC,IAAIA,CAAC,CAACC,MAAM,CAAC,CAAC,CAAC;IACrET,QAAQ,CAACC,IAAI,CAACS,SAAS,CAACD,MAAM,CAAC,YAAY,CAAC;;IAE5C;IACA,MAAME,CAAC,GAAGC,UAAU,CAAC,MAAM;MACzB,MAAMC,EAAE,GAAGb,QAAQ,CAACc,cAAc,CAAC,WAAW,CAAC;MAC/C,IAAGD,EAAE,EAAEA,EAAE,CAACE,KAAK,CAAC,CAAC;IACnB,CAAC,EAAE,EAAE,CAAC;IAEN,OAAO,MAAM;MACXf,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,UAAU,GAAGJ,MAAM;MACvCC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACG,QAAQ,GAAGD,YAAY;MAC3CY,YAAY,CAACL,CAAC,CAAC;IACjB,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeM,MAAMA,CAACC,CAAC,EAAC;IACtBA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBxB,MAAM,CAAC,EAAE,CAAC;IAAEE,MAAM,CAAC,EAAE,CAAC;IACtBJ,UAAU,CAAC,IAAI,CAAC;IAChB,IAAG;MACD,MAAM;QAAE2B;MAAK,CAAC,GAAG,MAAMpC,GAAG,CAACqC,IAAI,CAAC,cAAc,EAAE;QAAEhC;MAAM,CAAC,CAAC;MAC1DM,MAAM,CACJ,CAAAyB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE1B,GAAG,KACT,4EACF,CAAC;;MAED;MACA,IAAI0B,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEE,OAAO,EAAE;QACjB3B,MAAM,CAAC4B,CAAC,IAAIA,CAAC,GAAG,oBAAoBH,IAAI,CAACE,OAAO,EAAE,CAAC;MACrD;IACF,CAAC,QAAME,EAAE,EAAC;MACR;MACA7B,MAAM,CAAC,4EAA4E,CAAC;IACtF,CAAC,SAAO;MACNF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF;EAEA,SAASgC,QAAQA,CAAA,EAAE;IACjBC,MAAM,CAACC,KAAK,CAAC,CAAC;EAChB;EAEA,oBACEzC,OAAA;IAAK0C,SAAS,EAAC,gBAAgB;IAAC1B,KAAK,EAAE;MAAE2B,QAAQ,EAAE;IAAI,CAAE;IAAAC,QAAA,gBACvD5C,OAAA;MAAK0C,SAAS,EAAC,gCAAgC;MAAAE,QAAA,gBAC7C5C,OAAA;QAAI0C,SAAS,EAAC,KAAK;QAAAE,QAAA,EAAC;MAAmB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5ChD,OAAA;QAAK0C,SAAS,EAAC,SAAS;QAAAE,QAAA,eACtB5C,OAAA;UAAQ0C,SAAS,EAAC,kCAAkC;UAACO,OAAO,EAAEV,QAAS;UAAAK,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNhD,OAAA;MAAI0C,SAAS,EAAC;IAAW;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAE5BhD,OAAA;MAAMkD,QAAQ,EAAEnB,MAAO;MAAAa,QAAA,gBACrB5C,OAAA;QAAK0C,SAAS,EAAC,MAAM;QAAAE,QAAA,gBACnB5C,OAAA;UAAOmD,OAAO,EAAC,WAAW;UAACT,SAAS,EAAC,YAAY;UAAAE,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eAChEhD,OAAA;UACEoD,EAAE,EAAC,WAAW;UACdC,IAAI,EAAC,OAAO;UACZX,SAAS,EAAC,cAAc;UACxBY,WAAW,EAAC,sBAAsB;UAClCC,KAAK,EAAEpD,KAAM;UACbqD,QAAQ,EAAExB,CAAC,IAAE5B,QAAQ,CAAC4B,CAAC,CAACyB,MAAM,CAACF,KAAK,CAAE;UACtCG,QAAQ;QAAA;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,EACLtC,GAAG,iBAAIV,OAAA;QAAK0C,SAAS,EAAC,yBAAyB;QAAAE,QAAA,EAAElC;MAAG;QAAAmC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,EAC3DxC,GAAG,iBAAIR,OAAA;QAAK0C,SAAS,EAAC,uBAAuB;QAAC1B,KAAK,EAAE;UAAE2C,UAAU,EAAC;QAAW,CAAE;QAAAf,QAAA,EAAEpC;MAAG;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC5FhD,OAAA;QAAQ0C,SAAS,EAAC,iBAAiB;QAACkB,QAAQ,EAAEtD,OAAQ;QAAAsC,QAAA,EACnDtC,OAAO,GAAG,aAAa,GAAG;MAAmB;QAAAuC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEV;AAAC9C,EAAA,CAvFuBD,oBAAoB;AAAA4D,EAAA,GAApB5D,oBAAoB;AAAA,IAAA4D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}