{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\danielol\\\\Desktop\\\\AJ7\\\\comissoes_financiamento\\\\frontend\\\\src\\\\pages\\\\ForgotPassword.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport api from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ForgotPassword({\n  onClose\n}) {\n  _s();\n  const [email, setEmail] = useState('');\n  const [sent, setSent] = useState(false);\n  const [devUrl, setDevUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [msg, setMsg] = useState('');\n  async function submit(e) {\n    e.preventDefault();\n    setMsg('');\n    setLoading(true);\n    try {\n      const {\n        data\n      } = await api.post('/auth/forgot', {\n        email\n      });\n      // A API SEMPRE responde com mensagem genérica.\n      // Em debug (app.run(debug=True)), ela inclui dev_url/dev_token.\n      setSent(true);\n      if (data !== null && data !== void 0 && data.dev_url) setDevUrl(data.dev_url);\n      setMsg((data === null || data === void 0 ? void 0 : data.msg) || 'Se o e-mail existir, enviaremos instruções.');\n    } catch (err) {\n      // Mesmo em erro, mostramos mensagem genérica para não vazar existência de e-mail\n      setSent(true);\n      setMsg('Se o e-mail existir, enviaremos instruções.');\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-backdrop fade show\",\n    style: {\n      position: 'fixed',\n      inset: 0,\n      background: 'rgba(0,0,0,0.45)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1050\n    },\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card shadow\",\n      style: {\n        width: 480,\n        maxWidth: '95vw'\n      },\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Esqueci minha senha\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-sm btn-outline-secondary ms-auto\",\n          onClick: onClose,\n          children: \"Fechar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: !sent ? /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"E-mail cadastrado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              className: \"form-control\",\n              placeholder: \"voce@empresa.com\",\n              value: email,\n              onChange: e => setEmail(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            disabled: loading,\n            children: loading ? 'Enviando...' : 'Enviar instruções'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-info\",\n            children: msg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), devUrl && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"small text-muted mb-1\",\n              children: \"(Ambiente de desenvolvimento) Voc\\xEA pode usar o link abaixo:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"btn btn-outline-primary\",\n              href: devUrl,\n              target: \"_blank\",\n              rel: \"noreferrer\",\n              children: \"Abrir link de redefini\\xE7\\xE3o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(ForgotPassword, \"I3URJcc9+DkXr1ic5Jr/qbcpyoQ=\");\n_c = ForgotPassword;\nvar _c;\n$RefreshReg$(_c, \"ForgotPassword\");","map":{"version":3,"names":["React","useState","api","jsxDEV","_jsxDEV","ForgotPassword","onClose","_s","email","setEmail","sent","setSent","devUrl","setDevUrl","loading","setLoading","msg","setMsg","submit","e","preventDefault","data","post","dev_url","err","className","style","position","inset","background","display","alignItems","justifyContent","zIndex","onClick","children","width","maxWidth","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","disabled","href","rel","_c","$RefreshReg$"],"sources":["C:/Users/danielol/Desktop/AJ7/comissoes_financiamento/frontend/src/pages/ForgotPassword.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport api from '../api';\r\n\r\nexport default function ForgotPassword({ onClose }) {\r\n  const [email, setEmail] = useState('');\r\n  const [sent, setSent] = useState(false);\r\n  const [devUrl, setDevUrl] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [msg, setMsg] = useState('');\r\n\r\n  async function submit(e){\r\n    e.preventDefault();\r\n    setMsg('');\r\n    setLoading(true);\r\n    try{\r\n      const { data } = await api.post('/auth/forgot', { email });\r\n      // A API SEMPRE responde com mensagem genérica.\r\n      // Em debug (app.run(debug=True)), ela inclui dev_url/dev_token.\r\n      setSent(true);\r\n      if(data?.dev_url) setDevUrl(data.dev_url);\r\n      setMsg(data?.msg || 'Se o e-mail existir, enviaremos instruções.');\r\n    }catch(err){\r\n      // Mesmo em erro, mostramos mensagem genérica para não vazar existência de e-mail\r\n      setSent(true);\r\n      setMsg('Se o e-mail existir, enviaremos instruções.');\r\n    }finally{\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"modal-backdrop fade show\"\r\n      style={{\r\n        position:'fixed', inset:0, background:'rgba(0,0,0,0.45)',\r\n        display:'flex', alignItems:'center', justifyContent:'center', zIndex:1050\r\n      }}\r\n      onClick={onClose}\r\n    >\r\n      <div\r\n        className=\"card shadow\"\r\n        style={{ width: 480, maxWidth:'95vw' }}\r\n        onClick={(e)=>e.stopPropagation()}\r\n      >\r\n        <div className=\"card-header d-flex align-items-center\">\r\n          <strong>Esqueci minha senha</strong>\r\n          <button className=\"btn btn-sm btn-outline-secondary ms-auto\" onClick={onClose}>Fechar</button>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          {!sent ? (\r\n            <form onSubmit={submit}>\r\n              <div className=\"mb-3\">\r\n                <label className=\"form-label\">E-mail cadastrado</label>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"voce@empresa.com\"\r\n                  value={email}\r\n                  onChange={(e)=>setEmail(e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n              <button className=\"btn btn-primary\" disabled={loading}>\r\n                {loading ? 'Enviando...' : 'Enviar instruções'}\r\n              </button>\r\n            </form>\r\n          ) : (\r\n            <div>\r\n              <div className=\"alert alert-info\">{msg}</div>\r\n              {devUrl && (\r\n                <div className=\"mt-2\">\r\n                  <div className=\"small text-muted mb-1\">\r\n                    (Ambiente de desenvolvimento) Você pode usar o link abaixo:\r\n                  </div>\r\n                  <a className=\"btn btn-outline-primary\" href={devUrl} target=\"_blank\" rel=\"noreferrer\">\r\n                    Abrir link de redefinição\r\n                  </a>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}